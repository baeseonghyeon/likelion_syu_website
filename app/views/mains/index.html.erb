    <!-- Page Content -->
 <%#= render '/posts/nav' %>
    
    <script>
        //jquery-visible
        !function(t){var i=t(window);t.fn.visible=function(t,e,o){if(!(this.length<1)){var r=this.length>1?this.eq(0):this,n=r.get(0),f=i.width(),h=i.height(),o=o?o:"both",l=e===!0?n.offsetWidth*n.offsetHeight:!0;if("function"==typeof n.getBoundingClientRect){var g=n.getBoundingClientRect(),u=g.top>=0&&g.top<h,s=g.bottom>0&&g.bottom<=h,c=g.left>=0&&g.left<f,a=g.right>0&&g.right<=f,v=t?u||s:u&&s,b=t?c||a:c&&a;if("both"===o)return l&&v&&b;if("vertical"===o)return l&&v;if("horizontal"===o)return l&&b}else{var d=i.scrollTop(),p=d+h,w=i.scrollLeft(),m=w+f,y=r.offset(),z=y.top,B=z+r.height(),C=y.left,R=C+r.width(),j=t===!0?B:z,q=t===!0?z:B,H=t===!0?R:C,L=t===!0?C:R;if("both"===o)return!!l&&p>=q&&j>=d&&m>=L&&H>=w;if("vertical"===o)return!!l&&p>=q&&j>=d;if("horizontal"===o)return!!l&&m>=L&&H>=w}}}}(jQuery);
    </script>
    <% @mains.each do |main| %>
    <div class="background">
    </div>
    
    <div class="main-sec1" id="bg" style="background-image: url('<%= @mainimg.content.to_s.html_safe.remove('<p><img src="', '" alt="" /></p>') %>');">
        <div class="main-sec1-cover"></div> 
        <div class="container">
            <h1 class="main-title" id="texts"><span id="app"></span></h1>
            
            <!-- 타이핑 효과 -->
            <script>
                var app = document.getElementById('app');

                var typewriter = new Typewriter(app, {
                    loop: true
                });
                
                typewriter.typeString('<%= main.title %>')
                    .pauseFor(2500)
                    .deleteChars(9)
                    .pauseFor(2500)
                    .deleteAll()
                    .typeString('<span style="font-family: Montserrat, sans-serif; font-weight: 500;">LIKELION</span>')
                    .pauseFor(2500)
                    .deleteAll()
                    .typeString('<span style="font-family: Montserrat, sans-serif; font-weight: 500;">HACK YOUR LIFE</span>')
                    .pauseFor(2500)
                    .start();
            </script>
          

            <span class="thbox"><h1 class="main-lionth" id="counter_th"><%= main.th %></h1><span class="th">기</span></span>
            <div class="main-line"></div>
            <p class="main-content"><%= main.content %></p>
            
            <% if main.hidden === '표시' %>
              <div class="apply">
              <p>멋쟁이 사자처럼 삼육대학교 <%= main.th %>기 절찬 모집 중<span class="title-star">*</span></p>
              <p class="applytime"><%= main.applycontent %></p>
              <a href="<%= main.applylink %>" class="btn main-btn" target= "_blank">삼육대 멋사 <%= main.th %>기 지원하기!</a>
              </div>
            <% end %>
            
            <%= link_to '홈페이지로 이동하기', posts_path, class: "btn main-btn" %>
            <img src="assets/arrow-down" alt="arrow-down" class="main-arrow-down" onclick="downFunction()">
            
            
        </div>
    </div>
    
    <div class="main-sec1" id="bg2">
        <div class="container">
            <div class="hul">HACK YOUR LIFE</div>
            <h1 class="info_title"><a href="https://likelion.net/" target="_blank">멋쟁이 사자처럼</a></h1>
            <div class="main-line"></div>
            <h2>멋쟁이 사자처럼은 다양한 전공의 학생들이 모여 <strong>프로그래밍</strong>을 배우는 <strong>대학 연합 교육 단체</strong>입니다.</h2>
            <h3>내 아이디어를 <strong>내 손으로</strong> 실현한다.</h3>
            <p>컴퓨터를 모르는 학생들이 프로그래밍 교육을 통해 원하는 IT서비스를 직접 런칭합니다.</p>
            <a href="https://likelion.net/" target="_blank"  class="btn main-btn ll-btn">멋쟁이 사자처럼</a>
        </div>
    </div>
    
    <script>
        var bg2top = $('#bg2').offset().top;
        function downFunction() {
          $('html, body').animate( { scrollTop : bg2top } ); 
        }
    </script>
    
    <div class="swiper-container">
        <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="main-sec3" id="stack">
                        <div class="container">
                            <h1 class="info_title text-center">어떤것을 배울까요?</h1>
                            <div class="row">
                                <div class="col-md-4">
                                    <div>
                                    <i class="fab fa-html5"></i>
                                    <h4><strong>HTML5/CSS3</strong></h4>
                                    </div>
                                    HTML은 웹을 이루는 가장 기초적인 구성 요소입니다.
                                    웹페이지의 내용을 서술하고 정의하는 데 사용합니다.
                                    CSS는 웹 페이지의 모양과 시각적 효과를 표현합니다.
                                </div>
                                <div class="col-md-4">
                                    <div>
                                    <i class="fab fa-js"></i>
                                    <h4><strong>JavaScript</strong></h4>
                                    </div>
                                    JavaScript는 웹브라우저에 내장된 프로그래밍 언어입니다. 
                                    JavaScript를 통해 클라이언트에게 풍부한 사용자 경험을 제공합니다.
                                </div>
                                <div class="col-md-4">
                                    <div>
                                    <i class="fab fa-python"></i>
                                    <h4><strong>Python/Django</strong></h4>
                                    </div>
                                    Python은 가장 배우기 쉬운 프로그래밍 언어 중 하나며, Django는 웹 개발을 빠르고 쉽게 진행하도록 설계된 Python 기반 웹 프레임워크입니다. 
                                    이 기술을 통해 웹 애플리케이션을 체계적이고 깔끔하게 개발할 수 있습니다.
                                </div>
                                <div class="col-md-4">
                                    <div>
                                    <i class="fab fa-react"></i>
                                    <h4><strong>React</strong></h4>
                                    </div>
                                    React는 인터페이스를 만들기 위해 사용되는 자바스크립트 라이브러리 입니다. 
                                    React는 싱글 페이지나 모바일 애플리케이션의 인터페이스 개발에 사용합니다.
                                </div>
                                <div class="col-md-4">
                                    <div>
                                    <i class="fas fa-code-branch"></i>
                                    <h4><strong>Git/GitHub</strong></h4>
                                    </div>
                                    Git은 가장 많이 쓰이고 있는 버전 관리 도구입니다.
                                    Git을 이용한 파일 관리와 백업의 혁신에 대해 배웁니다. GitHub를 통해 소스코드를 백업하고 팀원과 협업 및 커뮤니케이션 방법을 배웁니다.
                                </div>
                                <div class="col-md-4">
                                    <div>
                                    <i class="fab fa-aws"></i>
                                    <h4><strong>Amazon Web Services</strong></h4>
                                    </div>
                                    AWS는 가장 인기있는 클라우드 컴퓨팅 플랫폼입니다. 직접 자신만의 웹 서버를 구축하고 유지 관리하는 과정을 배웁니다.
                                </div>
                            </div>    
                        </div>        
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="main-sec3" id="our">
                        <div class="container">
                            
                            <h1 class="info_title text-center">OUR MISSION & SERVICE</h1>
                            <h2 class="mb-4 mt-10">온라인 강의와 오프라인 활동을 통한 체계적인 <strong>프로그래밍 교육</strong></h2>
                            <p class="mb-5">
                                <strong>자체 개발된 온라인 강의 플랫폼 '클래스라이언'</strong> 을 통해 강의를 듣고 과제를 수행합니다.<br><br>
                                다양한 오프라인 활동과 병행하여 뜻을 같이하는 동료를 찾고
                                자신이 <strong>만들고자 하는 서비스를 직접 프로그래밍</strong> 하도록 돕습니다.
                            </p>
                            <hr>
                            <h2 class="mb-5 mt-5"><strong>IT서비스 구축</strong>을 위한 웹프로그래밍 학습</h2>
                            <div class="row">
                                <div class="col-md-3 r">
                                    <h4>HIGH TECHNOLOGY</h4>
                                    <p><strong>최신 기술 스택</strong> 활용</p>
                                </div>
                                <div class="col-md-3 r">
                                    <h4>PROGRAMMING EDUCATION</h4>
                                    <p><strong>자체제작 플랫폼</strong>을 통한 개별 학생 관리</p>
                                </div>
                                <div class="col-md-3 r">
                                    <h4>SERVICE REALIZTION</h4>
                                    <p>해커톤을 통한 <strong>아이디어 개발/서비스 구현</strong></p>
                                </div>
                                <div class="col-md-3">
                                    <h4>CONTINUAL MANAGEMENT</h4>
                                    <p>학교/팀별 온/오프라인 교육 및 스터디, 세미나</p>
                                </div>
                            </div>
                        </div>    
                    </div>
                </div>
        </div>
        
        <div class="swiper-pagination"></div>
        
        <!-- Add Arrows -->
        <div class="swiper-button-next s-btn-black"></div>
        <div class="swiper-button-prev s-btn-black"></div>
    </div>

  <!-- Initialize Swiper -->
    <script>
        var swiper = new Swiper('.swiper-container', {
             autoplay: {
                delay: 10000,
            },
            
            pagination: {
                el: '.swiper-pagination',
            },
    
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
        });
   </script>

    <div class="main-sec2">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 main">
                    <div class="main-textbox">
                        <div class="main-info">
                            <h1 class="info_title"  id="active-info">활동내역</h1>
                              <div class="row">
                                <div class="col-md-3 r"><h1 id="counter_year" class="counter">2018</h1><p>년 부터</p></div>
                                <div class="col-md-3 r"><h1 id="counter_people" class="counter"><%= main.lion %></h1><p>명의 사자들이</p></div>
                                <div class="col-md-3 r"><h1 id="counter_hack"><%= main.lion %></h1><p>번의 해커톤을 통해</p></div>
                                <div class="col-md-3"><h1 id="counter_service">0</h1><p>개의 서비스를 만들었습니다.</p></div>
                              </div>
                        </div>
                    </div>    
                </div>  
            </div>
        </div>
    </div>
      
    <div class="main-sec3">    
        <div class="container">
    
            <div class="row">
            <div class="col-lg-12 main">    
            
            <div class="main-service">
                <h1><%= main.th %>기 구성원</h1>
                <h3>멘토</h3>
                <div class= "row service">
                    <% @users.each do |user| %>
                        <% if user.has_role? 'manager' %>
                            <% if user.name === "삼육멋사" %>
                            <div class="none">
                            <% else %>
                            
                            <div class="col-md-3 s">
                            <% end %>
                                <a href="/users/<%= user.id %>">
                                <% if user.image.blank? %>
                                    <img src="/assets/avatar" class="mainuserimg sindex">
                                <% else %>
                                    <%= image_tag user.image.thumb.url, class: "mainuserimg sindex" %>
                                <% end %> 
                                </a>
                                <p>
                                    <%= user.name %>
                                    <!--</br>-->
                                    <!--<span class="role">운영진</span>-->
                                </p>
                            </div>
                        <% end %>
                    <% end %>
                </div>
                
                <h3>멘티</h3>
                <div class= "row service">
                    <% @users.each do |user| %>
                        <% if user.has_role? 'member' %>
                        
                        <div class="col-md-3 sm">
                            <a href="/users/<%= user.id %>">
                            <% if user.image.blank? %>
                                <img src="/assets/avatar" class="mainuserimgm sindex">
                            <% else %>
                                <%= image_tag user.image.thumb.url, class: "mainuserimgm sindex" %>
                            <% end %>
                            </a>
                            <p>
                                <%= user.name %>
                                <!--</br>-->
                                <!--<span class="role">아기사자</span>-->
                            </p>
                        </div>
                        <% end %>
                    <% end %>
                </div>
            </div>
            </div> 
            </div>
            </div>
            </div>
         </div>   
         
    <div class="main-sec4">      
        <div class="container">

        <div class="row">
            <div class="col-lg-12 main">
                <div class="main-service">
                    <h1>만든 서비스</h1>
                    <div class= "row service">
                    <% @services.each do |service| %>
                      <div class="col-md-3 s">
                        <a href="<%= service.url %>" target="_blank">
                        <% if service.image.blank? %>
                          <div class= "serviceimg sindex">
                            <br>이미지<br>준비중
                          </div>
                        <% else %>
                          <%= image_tag service.image.thumb.url, class: "serviceimg sindex" %>
                        <% end %> 
                        <p><%= service.title %></p>
                        </a>
                        <% if user_signed_in? %>
                          <% if current_user.has_role? 'admin' or current_user.has_role? 'manager' %>
                          <div class="admin-edit-box" >
                          <%= link_to '수정', edit_service_path(service) %> | 
                          <%= link_to '삭제', service, method: :delete, data: { confirm: '서비스를 삭제하시겠습니까?' } %> 
                          </div>
                          <% end %>
                        <% end %>
                      </div>
                    <% end %>
                    
                    <% if user_signed_in? %>
                      <% if current_user.has_role? 'admin' or current_user.has_role? 'manager' %>
                        <div class="col-md-3 s">
                          <%= link_to(image_tag('/assets/add', class:"serviceimgadd"), new_service_path)%>
                        </div>
                      <% else %>
                        <div class="col-md-3 s2"></div>
                      <% end %>
                    <% else %>
                        <div class="col-md-3 s2"></div>
                    <% end %>
                    
                  </div>
                </div>  
            
            <h1 class="info_title">SNS</h1>
            <div class="row">
              <div class="col-md-1"></div>
              <div class="col-md-5 mainb">
              <%= link_to 'Facebook', 'https://www.facebook.com/likelionsahmyook/', class: "btn main-btn", target: "_blank" %>
              </div>
              <div class="col-md-5 mainb">
              <%= link_to 'Instagram', 'https://www.instagram.com/likelion_syu/', class: "btn main-btn", target: "_blank" %>
              </div>
              <div class="col-md-1"></div>
            </div>
            <% if user_signed_in? %>
              <% if current_user.has_role? 'admin' or current_user.has_role? 'manager' %>
                <div class="maineditbox">
                  <%= link_to '수정하기', edit_main_path(main), class: "mainedit" %>
                </div>
              <% end %>
            <% end %>
            </div>
        </div> 
        
        <script>
        // $(document).ready(function(){
           
            var isVisible = false;

            $(window).on('scroll',function() {
                if (checkVisible($('#active-info'))&&!isVisible) {
                    
                    var options = {
                      useEasing: false, 
                      useGrouping: true, 
                      separator: '', 
                      decimal: '.', 
                    };
                    
                    // 시작 수, 종료 수, 속도
                    var count_1 = new countUp('counter_th', 0, <%= main.th.to_s %>, 0, 2, options);
                    var count_2 = new countUp('counter_year', 0, 2018, 0, 2, options);
                    var count_3 = new countUp('counter_people', 0, <%= main.lion.to_s %>, 0, 1, options);
                    var count_4 = new countUp('counter_hack', 0, <%= main.hack.to_s %>, 0, 2, options);
                    var count_5 = new countUp('counter_service', 0, <%= Service.all.count.to_s %>, 0, 2, options);
                    

                    count_1.start();
                    count_2.start();
                    count_3.start();
                    count_4.start();
                    count_5.start();
                    isVisible=true;
                }
            }); 
            
            function checkVisible( elm, eval ) {
                eval = eval || "object visible";
                var viewportHeight = $(window).height(), // Viewport Height
                    scrolltop = $(window).scrollTop(), // Scroll Top
                    y = $(elm).offset().top,
                    elementHeight = $(elm).height();   
                
                if (eval == "object visible") return ((y < (viewportHeight + scrolltop)) && (y > (scrolltop - elementHeight)));
                if (eval == "above") return ((y < (viewportHeight + scrolltop)));
            } 
        </script>
          
          <% end %>
          
          <% if Main.count == 0 %>
          <div class="main-textbox">
            <div class="empty40"></div>
            <h1 class="info_title">SNS</h1>
            <div class="row">
              <div class="col-md-1"></div>
              <div class="col-md-5 mainb">
              <%= link_to 'Facebook', 'https://www.facebook.com/likelionsahmyook/', class: "btn main-btn", target: "_blank" %>
              </div>
              <div class="col-md-5 mainb">
              <%= link_to 'Instagram', 'https://www.instagram.com/likelion_syu/', class: "btn main-btn", target: "_blank" %>
              </div>
              <div class="col-md-1"></div>
            </div>
          </div>  
          <% end %>
          
          <% if user_signed_in? %>
            <% if current_user.has_role? 'admin' or current_user.has_role? 'manager' %>
              <% if Main.count == 0 %>
              <div class="main-textbox">
                <div class="maineditbox">
                  <%= link_to '메인작성', new_main_path, class: "mainedit" %>
                </div>
              </div>  
              <% end %>
            <% end %>
          <% end %>
        
        <!--<div class="col-lg-2s">-->
        <!--</div>-->
      </div>
    </div>  
    <!-- /.row -->  
      </div>
      
    <!-- /.container -->
    </div>
    
  <!-- 이유는 모르겠지만 /div를 추가해야 footer가 container안에 안 들어감 -->
  </div>

<!-- Footer -->
<%= render '/posts/footer' %>